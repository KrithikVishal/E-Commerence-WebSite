<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <title>Vishal's Club E-commerce</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
    rel="stylesheet"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
    rel="stylesheet"
  />
  <style>
    body {
      font-family: "Montserrat", sans-serif;
    }
  </style>
</head>
<body class="m-0 p-0 min-h-screen flex flex-col">
  <!-- Top black bar -->
  <div
    class="bg-black text-white text-[10px] font-extrabold tracking-widest uppercase flex justify-center items-center py-1 select-none"
  >
    UNMISSABLE VISHALCLUB DAYS
    <button
      id="topBarToggle"
      aria-label="Toggle top bar details"
      class="ml-1 text-[10px] focus:outline-none"
    >
      <i class="fas fa-chevron-down"></i>
    </button>
  </div>
  <div
    id="topBarDetails"
    class="bg-black text-white text-[10px] font-normal tracking-wide uppercase text-center py-2 hidden"
  >
    Enjoy exclusive deals and extra discounts during Vishal's Club Days! Sign up or log in to get started.
  </div>

  <!-- Navigation bar -->
  <nav
    class="flex items-center justify-between px-4 sm:px-6 md:px-10 lg:px-20 py-4 border-b border-gray-200"
  >
    <!-- Left: Logo -->
    <div class="flex-shrink-0">
      <a href="#" aria-label="Homepage">
        <img
          alt="Vishal's logo black on white background"
          class="w-[60px] h-[30px]"
          height="30"
          src="https://tse3.mm.bing.net/th/id/OIP.8GzGx2VhKgXQdsa0kMjkcgAAAA?rs=1&pid=ImgDetMain"
          width="60"
        />
      </a>
    </div>
    <!-- Center: Menu -->
    <ul
      class="hidden sm:flex space-x-6 text-[13px] font-normal tracking-widest select-none"
      role="menubar"
    >
      <li role="none">
        <button
          role="menuitem"
          class="hover:underline focus:outline-none focus:underline"
          onclick="filterCategory('shoes')"
        >
          SHOES
        </button>
      </li>
      <li role="none">
        <button
          role="menuitem"
          class="hover:underline focus:outline-none focus:underline"
          onclick="filterCategory('men')"
        >
          MEN
        </button>
      </li>
      <li role="none">
        <button
          role="menuitem"
          class="hover:underline focus:outline-none focus:underline"
          onclick="filterCategory('women')"
        >
          WOMEN
        </button>
      </li>
      <li role="none">
        <button
          role="menuitem"
          class="hover:underline focus:outline-none focus:underline"
          onclick="filterCategory('kids')"
        >
          KIDS
        </button>
      </li>
      <li role="none">
        <button
          role="menuitem"
          class="font-extrabold hover:underline focus:outline-none focus:underline"
          onclick="filterCategory('sports-lifestyle')"
        >
          SPORTS &amp; LIFESTYLE
        </button>
      </li>
      <li role="none">
        <button
          role="menuitem"
          class="hover:underline focus:outline-none focus:underline"
          onclick="filterCategory('outlet')"
        >
          OUTLET
        </button>
      </li>
      <li role="none">
        <button
          role="menuitem"
          class="font-extrabold hover:underline focus:outline-none focus:underline flex items-center"
          onclick="filterCategory('vishalclub-days')"
        >
          VISHALCLUB DAYS - EXTRA 20% OFF
          <span class="ml-1 text-[14px]">üõçÔ∏è</span>
        </button>
      </li>
    </ul>
    <!-- Right: Help, orders, sign up, log in, search, icons -->
    <div
      class="hidden sm:flex items-center space-x-4 text-[12px] font-normal tracking-wide select-none"
    >
      <button
        class="hover:underline focus:outline-none"
        onclick="alert('Help section coming soon!')"
      >
        help
      </button>
      <button
        class="hover:underline focus:outline-none"
        onclick="alert('Orders and returns section coming soon!')"
      >
        orders and returns
      </button>
      <button
        class="hover:underline focus:outline-none"
        onclick="openSignUpModal()"
      >
        sign up
      </button>
      <button
        class="hover:underline focus:outline-none"
        onclick="openLoginModal()"
      >
        log in
      </button>
      <form
        id="searchForm"
        class="relative"
        onsubmit="event.preventDefault(); performSearch();"
        role="search"
        aria-label="Site search"
      >
        <input
          aria-label="Search"
          id="searchInput"
          class="border border-gray-300 rounded-l-md py-1 px-3 text-[13px] focus:outline-none focus:ring-1 focus:ring-black"
          placeholder="Search"
          type="text"
          autocomplete="off"
        />
        <button
          aria-label="Search button"
          type="submit"
          class="bg-gray-100 border border-l-0 border-gray-300 rounded-r-md px-3 py-1"
        >
          <i class="fas fa-search text-black text-[14px]"></i>
        </button>
      </form>
      <button
        aria-label="User account"
        class="relative"
        onclick="openAccount()"
        title="User Account"
      >
        <i class="fas fa-user text-black text-lg"></i>
        <span
          id="cartCount"
          class="absolute -top-1 -right-2 bg-yellow-400 text-black text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center"
          >0</span
        >
      </button>
      <button
        aria-label="Wishlist"
        onclick="alert('Wishlist feature coming soon!')"
        title="Wishlist"
      >
        <i class="far fa-heart text-black text-lg"></i>
      </button>
      <button
        aria-label="Shopping bag"
        onclick="openCart()"
        title="Shopping Bag"
      >
        <i class="fas fa-shopping-bag text-black text-lg"></i>
      </button>
    </div>
  </nav>

  <!-- Sub banner below nav -->
  <div
    class="bg-gray-100 text-center text-[14px] py-2 px-4 flex justify-between items-center max-w-full select-none"
  >
    <p class="mx-auto max-w-[600px] text-black">
      Make the most of your membership points during Vishal's Club Days.
    </p>
    <button
      aria-label="Arrow right"
      class="text-black text-xl font-light focus:outline-none"
      onclick="alert('Learn more about Vishal\'s Club Days!')"
    >
      ‚Üí
    </button>
  </div>

  <!-- Main images section -->
  <section
    class="flex flex-col sm:flex-row w-full max-w-full flex-grow"
    aria-label="Featured promotions"
  >
    <!-- Left image with text -->
    <div class="relative w-full sm:w-1/3 group">
      <img
        alt="Group of three people wearing Vishal's Club sportswear outdoors on a track field, one in pink shirt, one in white jacket, one in black tank top"
        class="w-full h-full object-cover"
        height="700"
        src="https://th.bing.com/th/id/R.d4ed2011ab6ecabe34090265393e90fd?rik=%2bw8qskHm6%2bylWw&riu=http%3a%2f%2fwww.askthemonsters.com%2fwp-content%2fuploads%2f2015%2f07%2fsean-opry-celebrity-9851973.jpg&ehk=4naCEW%2bzX%2bTI3GjZHR1q7ZxL4tbEYFheU2mHNyP1U%2fY%3d&risl=&pid=ImgRaw&r=0"
        width="600"
      />
      <div
        class="absolute bottom-8 left-6 bg-white bg-opacity-90 p-2 max-w-[260px] text-black"
      >
        <h2 class="font-extrabold text-[14px] tracking-widest uppercase mb-1">
          MEMBERS GET MORE
        </h2>
        <p class="text-[13px] mb-2">
          Members get extra 20% Off on ‚Çπ4999+ at checkout!
        </p>
        <div class="flex space-x-3">
          <button
            class="font-extrabold text-[13px] border border-black px-3 py-1 flex items-center space-x-1 hover:bg-black hover:text-white transition focus:outline-none"
            onclick="shopNow()"
          >
            <span>Shop now</span>
            <span>‚Üí</span>
          </button>
          <button
            class="font-extrabold text-[13px] border border-black px-3 py-1 flex items-center space-x-1 hover:bg-black hover:text-white transition focus:outline-none"
            onclick="exploreMore()"
          >
            <span>Explore more</span>
            <span>‚Üí</span>
          </button>
        </div>
      </div>
    </div>
    <!-- Center image with text -->
    <div class="relative w-full sm:w-1/3 group">
      <img
        alt="Group of six people wearing Vishal's Club sportswear indoors, standing close together"
        class="w-full h-full object-cover"
        height="700"
        src="https://tse4.mm.bing.net/th/id/OIP.Ze9Q83wRU9Ffy4871rcezgHaHa?rs=1&pid=ImgDetMain"
        width="600"
      />
      <div
        class="absolute inset-0 flex flex-col justify-center items-center text-white font-extrabold text-[48px] leading-[1.1] select-none"
        style="text-shadow: 0 0 5px rgba(0,0,0,0.7)"
      >
        <span class="font-bold">vishal</span>
        <span class="italic font-light">club</span>
        <span>DAYS</span>
      </div>
    </div>
    <!-- Right image -->
    <div class="relative w-full sm:w-1/3 group">
      <img
        alt="Close-up portrait of woman with curly hair wearing pink and gray Vishal's Club clothing on blue background, winking"
        class="w-full h-full object-cover"
        height="700"
        src="https://i.pinimg.com/originals/80/2f/f1/802ff1a686634d39143e9d52f87a5588.jpg"
        width="600"
      />
      <button
        aria-label="Close"
        class="absolute top-3 right-3 bg-gray-300 bg-opacity-50 rounded px-1 text-xs text-gray-700 focus:outline-none"
        onclick="alert('Close button clicked!')"
      >
        &gt;√ó&lt;
      </button>
    </div>
  </section>

  <!-- Product listing section -->
  <section
    id="productSection"
    class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-20 py-10 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"
    aria-label="Product listings"
  >
    <!-- Products will be dynamically inserted here -->
  </section>

  <!-- Cart modal -->
  <div
    id="cartModal"
    class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden"
    role="dialog"
    aria-modal="true"
    aria-labelledby="cartTitle"
  >
    <div
      class="bg-white rounded-lg max-w-md w-full p-6 relative max-h-[80vh] overflow-y-auto"
    >
      <h2 id="cartTitle" class="text-2xl font-bold mb-4">Shopping Cart</h2>
      <button
        aria-label="Close cart"
        class="absolute top-3 right-3 text-gray-600 hover:text-black focus:outline-none"
        onclick="closeCart()"
      >
        <i class="fas fa-times text-xl"></i>
      </button>
      <div id="cartItems" class="divide-y divide-gray-300 mb-4">
        <!-- Cart items inserted here -->
      </div>
      <div class="flex justify-between font-bold text-lg mb-4">
        <span>Total:</span>
        <span id="cartTotal">‚Çπ0</span>
      </div>
      <button
        class="w-full bg-black text-white py-2 rounded hover:bg-gray-800 focus:outline-none"
        onclick="checkout()"
      >
        Checkout
      </button>
    </div>
  </div>

  <!-- Login modal -->
  <div
    id="loginModal"
    class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden"
    role="dialog"
    aria-modal="true"
    aria-labelledby="loginTitle"
  >
    <div class="bg-white rounded-lg max-w-sm w-full p-6 relative">
      <h2 id="loginTitle" class="text-2xl font-bold mb-4">Log In</h2>
      <button
        aria-label="Close login"
        class="absolute top-3 right-3 text-gray-600 hover:text-black focus:outline-none"
        onclick="closeLoginModal()"
      >
        <i class="fas fa-times text-xl"></i>
      </button>
      <form id="loginForm" onsubmit="event.preventDefault(); loginUser();">
        <label class="block mb-2 font-semibold" for="loginEmail">Email</label>
        <input
          id="loginEmail"
          type="email"
          required
          class="w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-1 focus:ring-black"
        />
        <label class="block mb-2 font-semibold" for="loginPassword"
          >Password</label
        >
        <input
          id="loginPassword"
          type="password"
          required
          class="w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-1 focus:ring-black"
        />
        <button
          type="submit"
          class="w-full bg-black text-white py-2 rounded hover:bg-gray-800 focus:outline-none"
        >
          Log In
        </button>
      </form>
    </div>
  </div>

  <!-- Sign up modal -->
  <div
    id="signUpModal"
    class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden"
    role="dialog"
    aria-modal="true"
    aria-labelledby="signUpTitle"
  >
    <div class="bg-white rounded-lg max-w-sm w-full p-6 relative">
      <h2 id="signUpTitle" class="text-2xl font-bold mb-4">Sign Up</h2>
      <button
        aria-label="Close sign up"
        class="absolute top-3 right-3 text-gray-600 hover:text-black focus:outline-none"
        onclick="closeSignUpModal()"
      >
        <i class="fas fa-times text-xl"></i>
      </button>
      <form id="signUpForm" onsubmit="event.preventDefault(); signUpUser();">
        <label class="block mb-2 font-semibold" for="signUpEmail">Email</label>
        <input
          id="signUpEmail"
          type="email"
          required
          class="w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-1 focus:ring-black"
        />
        <label class="block mb-2 font-semibold" for="signUpPassword"
          >Password</label
        >
        <input
          id="signUpPassword"
          type="password"
          required
          class="w-full border border-gray-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-1 focus:ring-black"
        />
        <button
          type="submit"
          class="w-full bg-black text-white py-2 rounded hover:bg-gray-800 focus:outline-none"
        >
          Sign Up
        </button>
      </form>
    </div>
  </div>

  <!-- Account modal -->
  <div
    id="accountModal"
    class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 hidden"
    role="dialog"
    aria-modal="true"
    aria-labelledby="accountTitle"
  >
    <div class="bg-white rounded-lg max-w-sm w-full p-6 relative">
      <h2 id="accountTitle" class="text-2xl font-bold mb-4">My Account</h2>
      <button
        aria-label="Close account"
        class="absolute top-3 right-3 text-gray-600 hover:text-black focus:outline-none"
        onclick="closeAccount()"
      >
        <i class="fas fa-times text-xl"></i>
      </button>
      <div id="accountContent" class="text-center">
        <p class="mb-4" id="accountEmailDisplay"></p>
        <button
          class="bg-black text-white py-2 px-4 rounded hover:bg-gray-800 focus:outline-none"
          onclick="logoutUser()"
        >
          Log Out
        </button>
      </div>
    </div>
  </div>

  <script>
    // Sample product data
    const products = [
      {
        id: 1,
        name: "Vishal's Club Running Shoes",
        category: "shoes",
        price: 4999,
        image:
          "https://www.bing.com/th?id=OPAC.O3UohfbgAAVo4w474C474&o=5&pid=21.1&w=148&h=223&rs=1&qlt=100&dpr=1&bw=6&bc=FFFFFF",
        description: "Comfortable running shoes for all terrains.",
      },
      {
        id: 2,
        name: "Men's Sports Jacket",
        category: "men",
        price: 2999,
        image:
          "https://www.bing.com/th?id=OPAC.boA8bPxOs9%2bnkQ474C474&o=5&pid=21.1&w=154&h=203&rs=1&qlt=100&dpr=1&c=8&pcl=f5f5f5",
        description: "Lightweight jacket for outdoor activities.",
      },
      {
        id: 3,
        name: "Women's Training Tee",
        category: "women",
        price: 999,
        image:
          "https://www.bing.com/th?id=OPAC.CbZMSCmcSPLwaQ474C474&o=5&pid=21.1&w=160&h=160&rs=1&qlt=100&dpr=1&c=8&pcl=f5f5f5",
        description: "Breathable tee for training sessions.",
      },
      {
        id: 4,
        name: "Kids' Sneakers",
        category: "kids",
        price: 1999,
        image:
          "https://www.bing.com/th?id=OPAC.2wJHd1eD1IxafQ474C474&o=5&pid=21.1&w=154&h=178&rs=1&qlt=100&dpr=1",
        description: "Durable sneakers for kids.",
      },
      {
        id: 5,
        name: "Sports & Lifestyle Hoodie",
        category: "sports-lifestyle",
        price: 2499,
        image:
          "https://www.bing.com/th?id=OPAC.4wCXGA9Y0WvFmw474C474&o=5&pid=21.1&w=154&h=154&rs=1&qlt=100&dpr=1&c=8&pcl=f5f5f5",
        description: "Stylish hoodie for everyday wear.",
      },
      {
        id: 6,
        name: "Outlet Clearance T-shirt",
        category: "outlet",
        price: 499,
        image:
          "https://www.bing.com/th?id=OPAC.ScsWVt2IXPClbg474C474&o=5&pid=21.1&w=154&h=231&rs=1&qlt=100&dpr=1&c=8&pcl=f5f5f5",
        description: "Great deals on clearance items.",
      },
      {
        id: 7,
        name: "Vishal's Club Days Exclusive Cap",
        category: "vishalclub-days",
        price: 799,
        image:
          "https://www.bing.com/th?id=OPAC.YPQVGeuy39pEuQ474C474&o=5&pid=21.1&w=160&h=160&rs=1&qlt=100&dpr=1&c=8&pcl=f5f5f5",
        description: "Exclusive cap for members.",
      },
      {
        id: 8,
        name: "Men's Sports Shorts",
        category: "men",
        price: 1299,
        image:
          "https://www.bing.com/th?id=OPAC.FJqXqL0Grh7kGg474C474&o=5&pid=21.1&w=154&h=202&rs=1&qlt=100&dpr=1&c=8&pcl=f5f5f5",
        description: "Comfortable shorts for sports.",
      },
      {
        id: 9,
        name: "Women's Yoga Pants",
        category: "women",
        price: 1799,
        image:
          "https://www.bing.com/th?id=OPAC.Qy%2fFCpj07tNHmQ474C474&o=5&pid=21.1&w=160&h=235&rs=1&qlt=100&dpr=1&pcl=f5f5f5",
        description: "Flexible pants for yoga and workouts.",
      },
      {
        id: 10,
        name: "Kids' Hoodie",
        category: "kids",
        price: 1499,
        image:
          "https://www.bing.com/th?id=OPAC.4zccOSBCwxrNTQ474C474&o=5&pid=21.1&w=154&h=231&rs=1&qlt=100&dpr=1&c=8&pcl=f5f5f5",
        description: "Warm hoodie for kids.",
      },
      {
        id: 11,
        name: "Sports & Lifestyle Sneakers",
        category: "sports-lifestyle",
        price: 3999,
        image:
          "https://www.bing.com/th?id=OPAC.VFbRpDhcj8gM5A474C474&o=5&pid=21.1&w=154&h=203&rs=1&qlt=100&dpr=1&c=8&pcl=f5f5f5",
        description: "Sneakers for casual and sports use.",
      },
      {
        id: 12,
        name: "Outlet Clearance Jacket",
        category: "outlet",
        price: 1999,
        image:
          "https://www.bing.com/th?id=OPAC.JWtiNx2FSuYhVQ474C474&o=5&pid=21.1&w=148&h=224&rs=1&qlt=100&dpr=1&bw=6&bc=FFFFFF",
        description: "Jacket at a discounted price.",
      },
      {
        id: 13,
        name: "Vishal's Club Days Exclusive Tee",
        category: "vishalclub-days",
        price: 999,
        image:
          "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoKCgoKCgsMDAsPEA4QDxYUExMUFiIYGhgaGCIzICUgICUgMy03LCksNy1RQDg4QFFeT0pPXnFlZXGPiI+7u/sBCgoKCgoKCwwMCw8QDhAPFhQTExQWIhgaGBoYIjMgJSAgJSAzLTcsKSw3LVFAODhAUV5PSk9ecWVlcY+Ij7u7+//CABEIAGwAbAMBIgACEQEDEQH/xAAbAAEAAgMBAQAAAAAAAAAAAAAAAQMCBAcGBf/aAAgBAQAAAADsyAEgikDOwIpAzsCKZ0dibGdgRq8E997TX37s7Ajm3lel/VXW22BGhznZ9zXtXWWBFPK/hdjq29jOwIp5N8vrWG5tZ2BFPg9X1zc3M7AilBLOwIpAzsCMAM5AAD//xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAKAgIQAxAAAAAAAAAA0IgCqiAKqIAAAAA//8QANBAAAgECAwYDBgUFAAAAAAAAAQIDAAQFETIQEhMgIVEGUnEHIjAxM2EUJCZiY0BBdJGh/9oACAEBAAE/ANhOVb6963171vr3rfXvW+vet9e9b696DA8z6T8CPWvM+k/Aj1rzPpO2DE8NunlSC/tpXi1hJVJWuPCFVuIpB+RHX5d8vlQliZygkQsADkCD0NAgjMHZHrXmfSalkSFHkcgKozJPYVj2P4p4nxQWNpK4tXl4cMAJCH971gOBWGHBkhjBMf1pzqdu32FKAoAAypbaYXcszX1w0TIFFucuEn3XIZ50OmVDqKj1rzPpNe0HF2s8OW0jJD3JyJrwVhoghlxedNYKQD9g1GoYmtcKm3jnJutI57uepo/OKkOcso7V/ZaU1HrXmfSaubO2vIninhSRGGRVgCDWPu3hRLcxZz2Lnc/DOdA/ierLHxPgl1doXnthIYwsvuyAEAZZ9wTR+rEO1QHOa49aTqF9aCgVHrXmfSdntOP5OyH8hrAT+jLv/Oy/6lZ53C+lWpzac/eodKeuyPWvM+k7Paf9Cyrw7EX8KTJ3vif9FaQ5zsewqy0z+tW5zjT12R615n0nZ428P32OwW62fC30fM77ZVgeBX+G4ULS4SMuJmf3GzHUg1EXVsyjVa78SyBkbNj0yq2VwmRXLrnsj1rzPpO3dHat0dqyHbbHrXmfSfgR615mGYNcN/LXDfy1w38tcN/LXDfy1w38tcN/LSIwYEjp/Rf/xAAdEQABBAIDAAAAAAAAAAAAAAARAAEgQRBAImGB/9oACAECAQE/ANCxU6PeHiePqKfR/8QAFBEBAAAAAAAAAAAAAAAAAAAAUP/aAAgBAwEBPwBH/9k=",
        description: "Exclusive tee for members.",
      },
      {
        id: 14,
        name: "Men's Running Socks",
        category: "men",
        price: 299,
        image:
          "https://www.bing.com/th?id=OPAC.6vfIIci4rHXi7w474C474&o=5&pid=21.1&h=136&rs=1&qlt=100&dpr=1&pcl=f5f5f5&w=179",
        description: "Comfortable running socks.",
      },
      {
        id: 15,
        name: "Women's Sports Bra",
        category: "women",
        price: 1299,
        image:
          "https://www.bing.com/th?id=OPAC.QacSK9fTCHbSNQ474C474&o=5&pid=21.1&w=160&h=235&rs=1&qlt=100&dpr=1&pcl=f5f5f5",
        description: "Supportive sports bra.",
      },
    ];

    // Cart data stored in localStorage
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    // User data stored in localStorage (simple simulation)
    let currentUser = JSON.parse(localStorage.getItem("currentUser")) || null;

    // DOM elements
    const productSection = document.getElementById("productSection");
    const cartModal = document.getElementById("cartModal");
    const cartItemsContainer = document.getElementById("cartItems");
    const cartTotalEl = document.getElementById("cartTotal");
    const cartCountEl = document.getElementById("cartCount");
    const loginModal = document.getElementById("loginModal");
    const signUpModal = document.getElementById("signUpModal");
    const accountModal = document.getElementById("accountModal");
    const accountEmailDisplay = document.getElementById("accountEmailDisplay");

    // Initialize page
    function init() {
      renderProducts(products);
      updateCartCount();
      updateAccountUI();
    }

    // Render products filtered by category or all
    function renderProducts(productList) {
      productSection.innerHTML = "";
      if (productList.length === 0) {
        productSection.innerHTML =
          '<p class="col-span-full text-center text-lg font-semibold">No products found.</p>';
        return;
      }
      productList.forEach((product) => {
        const productCard = document.createElement("article");
        productCard.className =
          "border border-gray-300 rounded-lg overflow-hidden shadow-sm flex flex-col";
        productCard.setAttribute("tabindex", "0");
        productCard.setAttribute("aria-label", product.name + ", ‚Çπ" + product.price);

        productCard.innerHTML = `
          <img
            src="${product.image}"
            alt="${product.name} image"
            class="w-full h-[280px] object-cover"
            loading="lazy"
          />
          <div class="p-4 flex flex-col flex-grow">
            <h3 class="font-bold text-lg mb-1">${product.name}</h3>
            <p class="text-sm text-gray-600 flex-grow">${product.description}</p>
            <div class="mt-3 flex items-center justify-between">
              <span class="font-extrabold text-lg">‚Çπ${product.price}</span>
              <button
                class="bg-black text-white px-3 py-1 rounded hover:bg-gray-800 focus:outline-none"
                aria-label="Add ${product.name} to cart"
                onclick="addToCart(${product.id})"
              >
                Add to cart
              </button>
            </div>
          </div>
        `;
        productSection.appendChild(productCard);
      });
    }

    // Filter products by category
    function filterCategory(category) {
      if (category === "all") {
        renderProducts(products);
      } else {
        const filtered = products.filter((p) => p.category === category);
        renderProducts(filtered);
      }
    }

    // Add product to cart
    function addToCart(productId) {
      if (!currentUser) {
        alert("Please log in or sign up to add items to your cart.");
        openLoginModal();
        return;
      }
      const product = products.find((p) => p.id === productId);
      if (!product) return;
      const cartItem = cart.find((item) => item.id === productId);
      if (cartItem) {
        cartItem.quantity++;
      } else {
        cart.push({ ...product, quantity: 1 });
      }
      saveCart();
      updateCartCount();
      alert(`Added ${product.name} to cart.`);
    }

    // Save cart to localStorage
    function saveCart() {
      localStorage.setItem("cart", JSON.stringify(cart));
    }

    // Update cart count in header
    function updateCartCount() {
      const totalCount = cart.reduce((acc, item) => acc + item.quantity, 0);
      cartCountEl.textContent = totalCount;
    }

    // Open cart modal and render items
    function openCart() {
      if (!currentUser) {
        alert("Please log in or sign up to view your cart.");
        openLoginModal();
        return;
      }
      renderCartItems();
      cartModal.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    }

    // Close cart modal
    function closeCart() {
      cartModal.classList.add("hidden");
      document.body.style.overflow = "";
    }

    // Render cart items in modal
    function renderCartItems() {
      cartItemsContainer.innerHTML = "";
      if (cart.length === 0) {
        cartItemsContainer.innerHTML =
          '<p class="text-center text-gray-600">Your cart is empty.</p>';
        cartTotalEl.textContent = "‚Çπ0";
        return;
      }
      cart.forEach((item) => {
        const itemDiv = document.createElement("div");
        itemDiv.className = "flex items-center py-3 space-x-4";
        itemDiv.innerHTML = `
          <img src="${item.image}" alt="${item.name} image" class="w-16 h-16 object-cover rounded" />
          <div class="flex-grow">
            <h4 class="font-semibold">${item.name}</h4>
            <p>‚Çπ${item.price} x ${item.quantity} = ‚Çπ${item.price * item.quantity}</p>
          </div>
          <div class="flex items-center space-x-2">
            <button aria-label="Decrease quantity" class="px-2 py-1 border rounded hover:bg-gray-200 focus:outline-none" onclick="changeQuantity(${item.id}, -1)">-</button>
            <span>${item.quantity}</span>
            <button aria-label="Increase quantity" class="px-2 py-1 border rounded hover:bg-gray-200 focus:outline-none" onclick="changeQuantity(${item.id}, 1)">+</button>
            <button aria-label="Remove item" class="ml-2 text-red-600 hover:text-red-800 focus:outline-none" onclick="removeFromCart(${item.id})"><i class="fas fa-trash"></i></button>
          </div>
        `;
        cartItemsContainer.appendChild(itemDiv);
      });
      const total = cart.reduce((acc, item) => acc + item.price * item.quantity, 0);
      cartTotalEl.textContent = `‚Çπ${total}`;
    }

    // Change quantity of cart item
    function changeQuantity(productId, delta) {
      const item = cart.find((i) => i.id === productId);
      if (!item) return;
      item.quantity += delta;
      if (item.quantity <= 0) {
        cart = cart.filter((i) => i.id !== productId);
      }
      saveCart();
      renderCartItems();
      updateCartCount();
    }

    // Remove item from cart
    function removeFromCart(productId) {
      cart = cart.filter((i) => i.id !== productId);
      saveCart();
      renderCartItems();
      updateCartCount();
    }

    // Checkout simulation
    function checkout() {
      if (cart.length === 0) {
        alert("Your cart is empty.");
        return;
      }
      alert("Thank you for your purchase!");
      cart = [];
      saveCart();
      updateCartCount();
      closeCart();
    }

    // Search functionality
    function performSearch() {
      const query = document.getElementById("searchInput").value.trim().toLowerCase();
      if (!query) {
        renderProducts(products);
        return;
      }
      const filtered = products.filter(
        (p) =>
          p.name.toLowerCase().includes(query) ||
          p.description.toLowerCase().includes(query)
      );
      renderProducts(filtered);
    }

    // Shop now button action
    function shopNow() {
      filterCategory("vishalclub-days");
      window.scrollTo({ top: productSection.offsetTop, behavior: "smooth" });
    }

    // Explore more button action
    function exploreMore() {
      filterCategory("all");
      window.scrollTo({ top: productSection.offsetTop, behavior: "smooth" });
    }

    // Login modal open/close
    function openLoginModal() {
      loginModal.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    }
    function closeLoginModal() {
      loginModal.classList.add("hidden");
      document.body.style.overflow = "";
    }

    // Sign up modal open/close
    function openSignUpModal() {
      signUpModal.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    }
    function closeSignUpModal() {
      signUpModal.classList.add("hidden");
      document.body.style.overflow = "";
    }

    // Account modal open/close
    function openAccount() {
      if (!currentUser) {
        openLoginModal();
        return;
      }
      accountEmailDisplay.textContent = `Logged in as: ${currentUser.email}`;
      accountModal.classList.remove("hidden");
      document.body.style.overflow = "hidden";
    }
    function closeAccount() {
      accountModal.classList.add("hidden");
      document.body.style.overflow = "";
    }

    // Login user simulation
    function loginUser() {
      const email = document.getElementById("loginEmail").value.trim();
      const password = document.getElementById("loginPassword").value.trim();
      if (!email || !password) {
        alert("Please enter email and password.");
        return;
      }
      // For demo, accept any email/password
      currentUser = { email };
      localStorage.setItem("currentUser", JSON.stringify(currentUser));
      alert(`Welcome back, ${email}!`);
      closeLoginModal();
      updateAccountUI();
    }

    // Sign up user simulation
    function signUpUser() {
      const email = document.getElementById("signUpEmail").value.trim();
      const password = document.getElementById("signUpPassword").value.trim();
      if (!email || !password) {
        alert("Please enter email and password.");
        return;
      }
      // For demo, accept any email/password
      currentUser = { email };
      localStorage.setItem("currentUser", JSON.stringify(currentUser));
      alert(`Account created for ${email}!`);
      closeSignUpModal();
      updateAccountUI();
    }

    // Logout user
    function logoutUser() {
      currentUser = null;
      localStorage.removeItem("currentUser");
      cart = [];
      saveCart();
      updateCartCount();
      closeAccount();
      alert("You have been logged out.");
      renderProducts(products);
    }

    // Update UI based on login state
    function updateAccountUI() {
      const rightMenu = document.querySelector(
        "nav > div.hidden.sm\\:flex.items-center.space-x-4"
      );
      if (!rightMenu) return;
      if (currentUser) {
        // Hide sign up and log in, show account and cart count
        rightMenu.querySelectorAll("button").forEach((btn) => {
          if (
            btn.textContent === "sign up" ||
            btn.textContent === "log in" ||
            btn.textContent === "help" ||
            btn.textContent === "orders and returns"
          ) {
            btn.style.display = "none";
          } else {
            btn.style.display = "inline-flex";
          }
        });
      } else {
        // Show sign up and log in, hide account and cart count
        rightMenu.querySelectorAll("button").forEach((btn) => {
          if (
            btn.textContent === "sign up" ||
            btn.textContent === "log in" ||
            btn.textContent === "help" ||
            btn.textContent === "orders and returns"
          ) {
            btn.style.display = "inline-flex";
          } else {
            btn.style.display = "none";
          }
        });
        cartCountEl.textContent = "0";
      }
    }

    // Top bar toggle details
    document.getElementById("topBarToggle").addEventListener("click", () => {
      const details = document.getElementById("topBarDetails");
      if (details.classList.contains("hidden")) {
        details.classList.remove("hidden");
        document.getElementById("topBarToggle").innerHTML =
          '<i class="fas fa-chevron-up"></i>';
      } else {
        details.classList.add("hidden");
        document.getElementById("topBarToggle").innerHTML =
          '<i class="fas fa-chevron-down"></i>';
      }
    });

    // Close modals on outside click or Escape key
    window.addEventListener("click", (e) => {
      if (
        e.target === cartModal ||
        e.target === loginModal ||
        e.target === signUpModal ||
        e.target === accountModal
      ) {
        if (!cartModal.classList.contains("hidden")) closeCart();
        if (!loginModal.classList.contains("hidden")) closeLoginModal();
        if (!signUpModal.classList.contains("hidden")) closeSignUpModal();
        if (!accountModal.classList.contains("hidden")) closeAccount();
      }
    });
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        if (!cartModal.classList.contains("hidden")) closeCart();
        if (!loginModal.classList.contains("hidden")) closeLoginModal();
        if (!signUpModal.classList.contains("hidden")) closeSignUpModal();
        if (!accountModal.classList.contains("hidden")) closeAccount();
      }
    });

    // Initialize on page load
    window.onload = init;
  </script>
</body>
</html>